## 创建画布

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>canvas</title>
  </head>
  <body>
      // 可以在创建设置宽高 也可以使用js动态设置画布宽高
    <canvas id="canvas" height="1000" width="1000"></canvas>
  </body>
  <script>
    <script>
    var canvas = document.getElementById("canvas");
    var context = canvas.getContext("2d");
    var cx = canvas.width = 1000;
    var cy = canvas.height = 1000;
  </script>
</html>

```

## 常用的API

- fill() 填充路径
- stroke() 描边
- arc() 创建圆弧
- rect() 创建矩形
- fillRect() 绘制矩形路径区域
- strokeRect() 绘制矩形路径描边
- clearRect() 在给定的矩形内清楚指定的像素
- arcTo() 创建两切线之间的弧/曲线
- beginPath() 起使一条路径，或者重置当前路径
- moveTo() 把路径移动到画布的指定点，不创建线段
- lineTo() 添加一个新的点 然后在画布中创建改点到最后指定点的线条
- closePath() 创建当前点回到起始点的路径
- clip() 从原始画布剪切任意形状的区域
- quadraticCurveTo() 创建二次方贝塞尔曲线
- bezierCurveTo() 创建三次方贝塞尔曲线
- isPointInPath() 如果指定的点位于当前路径中，则返回true否则false
- [canvas api文档](https://www.canvasapi.cn/) 不明白的可以参考文档

接下来我们实现一个个小例子来熟悉这些api

## 画一个三角形

想要实现一个三角形，首先我们要学会怎么画线段

```js
var canvas = document.getElementById('canvas')
var ctx = canvas.getContext('2d')

ctx.beginPath();
// ctx.moveTo(x,y) xy是画布中坐标
ctx.moveTo(100,100);
// ctx.lineTo(x,y)
ctx.lineTo(100,200);
// 设置描边样式
ctx.strokeStyle = "#000";
// 对路径进行描边
ctx.stroke()
// 这样我们就画了一个线段
```

既然我们画了一个线段，那么我们用三条线段不就组成了一个三角形吗

```js
var canvas = document.getElementById('canvas')
var ctx = canvas.getContext('2d')

ctx.beginPath();
ctx.moveTo(100,100);
ctx.lineTo(100,200);
ctx.lineTo(200,150)
ctx.lineTo(100,100)
ctx.stroke()
// 这样我们就画了一个空心的三角形 如果想画一个实心的三角形，我们可以把ctx.stroke()修改为 ctx.fill()

```

## 画个圆

画个圆还是比较简单的，因为提供给我固定的api使用

```js
var canvas = document.getElementById('canvas')
var ctx = canvas.getContext('2d')

ctx.beginPath()
ctx.arc(100,100,50,0,Math.PI*2,false)
// 可以控制画圆的颜色
ctx.fillStyle = '#000'
ctx.closePath()
ctx.fill() // 实心圆  空心圆可以用  ctx.stroke()

// context.arc(x, y, radius,  startAngle, endAngle [, anticlockwise]);
// x对应圆心横坐标 y对应圆心纵坐标 radius 半径  startAngle 开始角度  endAngle结束角度  anticlockwise顺时针还是逆时针
```



## 画个渐变

如何设置渐变

- createLinearGradient() 创建线性渐变
- createPattern() 在指定方向上重复指定的元素
- createRadialGradient() 创建放射性渐变
- addColorStop() 规定渐变的颜色 和位置

```js
var canvas = document.getElementById('canvas')
var ctx = canvas.getContext('2d')

// ctx.createLinearGradient(x0,y0,x1,y1);
// x0：开始渐变的 x 坐标
// y0：开始渐变的 y 坐标
// x1：结束渐变的 x 坐标
// y1：结束渐变的 y 坐标
var grd = ctx.createLinearGradient(0,0,100,0);
grd.addColorStop(0,'pink');
grd.addColorStop(1,'red');
ctx.fillStyle = grd;
ctx.fillRect(0,0,200,200);
```



## 绘制文本

```js
var canvas = document.getElementById('canvas')
var ctx = canvas.getContext('2d')

ctx.font = "48px serif";
// 实心文本 10 ，50 代表的是字的起始坐标位置
ctx.fillText("Hello world", 10, 50);
//空心文本
ctx.strokeText("Hello world", 10, 50);

```



## 绘制图片

```js
var canvas = document.getElementById('canvas')
var ctx = canvas.getContext('2d')

    var img = new Image();
    img.onload = function(){
        // 0 0 图片的起始坐标
      ctx.drawImage(img,0,0);
    }
    img.src = 'https://mdn.mozillademos.org/files/5395/backdrop.png';
```

drawImage 还有一些其他可选的参数

drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);

[详细参数参考文档](https://www.canvasapi.cn/CanvasRenderingContext2D/drawImage)

